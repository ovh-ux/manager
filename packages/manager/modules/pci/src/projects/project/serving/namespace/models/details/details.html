<div>
    <div class="row">
        <div class="col-md-4">
            <oui-tile
                class="h-100"
                data-heading="{{ ::'pci_projects_project_serving_models_details_infos_label' | translate }}"
            >
                <oui-tile-definition
                    data-term="{{ :: 'pci_projects_project_serving_models_details_infos_id_label' | translate }}"
                >
                    <oui-tile-description>
                        <span data-ng-bind="$ctrl.model.id"></span>
                    </oui-tile-description>
                </oui-tile-definition>
                <oui-tile-definition
                    data-term="{{ :: 'pci_projects_project_serving_models_details_infos_api_status_label' | translate }}"
                >
                    <oui-tile-description>
                        <span
                            class="oui-badge"
                            data-ng-class="{
                            'oui-badge_success' : $ctrl.model.isRunning(),
                            'oui-badge_warning' : !$ctrl.model.isRunning()
                        }"
                            data-translate="{{:: 'pci_projects_project_serving_namespace_models_api_status_' + $ctrl.model.apiStatus }}"
                        >
                        </span>
                    </oui-tile-description>
                </oui-tile-definition>
                <oui-tile-definition
                    data-term="{{ :: 'pci_projects_project_serving_models_details_infos_version_status_label' | translate }}"
                >
                    <oui-tile-description>
                        <span
                            class="oui-badge"
                            data-ng-class="{
                        'oui-badge_success' : $ctrl.model.isDeployed(),
                        'oui-badge_warning' : $ctrl.model.isProcessing(),
                        'oui-badge_error' : $ctrl.model.isInError()
                    }"
                            data-translate="{{:: 'pci_projects_project_serving_namespace_models_version_status_' + $ctrl.model.versionStatus }}"
                        >
                        </span>
                    </oui-tile-description>
                </oui-tile-definition>
                <oui-tile-definition
                    data-term="{{ :: 'pci_projects_project_serving_models_details_infos_version_label' | translate }}"
                    data-description="{{ $ctrl.model.version }}"
                >
                </oui-tile-definition>
                <oui-tile-definition
                    data-ng-if="$ctrl.model.workflowTemplateParameters.imageId"
                    data-term="{{ ::'pci_projects_project_serving_models_details_infos_image_label' | translate }}"
                    title="{{ ::'pci_projects_project_serving_models_details_infos_image_label' | translate }}"
                    data-description="{{ $ctrl.model.workflowTemplateParameters.imageId }}"
                >
                </oui-tile-definition>
                <oui-tile-definition
                    data-ng-if="$ctrl.model.workflowTemplateParameters.storagePath"
                    data-term="{{ ::'pci_projects_project_serving_models_details_infos_storage_label' | translate }}"
                    title="{{ ::'pci_projects_project_serving_models_details_infos_storage_label' | translate }}"
                    data-description="{{ $ctrl.model.workflowTemplateParameters.storagePath }}"
                >
                </oui-tile-definition>
            </oui-tile>
        </div>
        <div class="col-md-4">
            <oui-tile
                class="h-100"
                data-heading="{{ ::'pci_projects_project_serving_models_details_action_label' | translate }}"
            >
                <oui-tile-button
                    data-on-click="$ctrl.updateModel($ctrl.model.id)"
                >
                    <span
                        data-translate="pci_projects_project_serving_models_details_action_update_label"
                    ></span>
                </oui-tile-button>
                <oui-tile-button
                    data-on-click="$ctrl.deleteModel($ctrl.model.id)"
                >
                    <span
                        data-translate="pci_projects_project_serving_models_details_action_delete_label"
                    ></span>
                </oui-tile-button>
            </oui-tile>
        </div>
        <div class="col-md-4">
            <oui-tile
                class="h-100"
                data-heading="{{ ::'pci_projects_project_serving_models_details_configuration_label' | translate }}"
            >
                <oui-tile-definition
                    data-ng-if="$ctrl.model.flavor"
                    data-term="{{ ::'pci_projects_project_serving_models_details_configuration_flavor_label' | translate }}"
                    title="{{ ::'pci_projects_project_serving_models_details_configuration_flavor_label' | translate }}"
                    data-description="{{ $ctrl.model.flavor }}"
                >
                </oui-tile-definition>

                <oui-tile-definition
                    data-ng-if="$ctrl.model.autoscalingSpec.minReplicas"
                    data-term="{{ ::'pci_projects_project_serving_models_details_configuration_min_replicas_label' | translate }}"
                    title="{{ ::'pci_projects_project_serving_models_details_configuration_min_replicas_label' | translate }}"
                    data-description="{{ $ctrl.model.autoscalingSpec.minReplicas }}"
                >
                </oui-tile-definition>

                <oui-tile-definition
                    data-ng-if="$ctrl.model.autoscalingSpec.maxReplicas"
                    data-term="{{ ::'pci_projects_project_serving_models_details_configuration_max_replicas_label' | translate }}"
                    title="{{ ::'pci_projects_project_serving_models_details_configuration_max_replicas_label' | translate }}"
                    data-description="{{ $ctrl.model.autoscalingSpec.maxReplicas }}"
                >
                </oui-tile-definition>

                <oui-tile-definition
                    data-ng-if="$ctrl.model.autoscalingSpec.memoryAverageUtilization"
                    data-term="{{ ::'pci_projects_project_serving_models_details_configuration_memory_label' | translate }}"
                    title="{{ ::'pci_projects_project_serving_models_details_configuration_memory_label' | translate }}"
                    data-description="{{ $ctrl.model.autoscalingSpec.memoryAverageUtilization }}%"
                >
                </oui-tile-definition>
                <oui-tile-definition
                    data-ng-if="$ctrl.model.autoscalingSpec.cpuAverageUtilization"
                    data-term="{{ ::'pci_projects_project_serving_models_details_configuration_cpu_label' | translate }}"
                    title="{{ ::'pci_projects_project_serving_models_details_configuration_cpu_label' | translate }}"
                    data-description="{{ $ctrl.model.autoscalingSpec.cpuAverageUtilization }}%"
                >
                </oui-tile-definition>
            </oui-tile>
        </div>
    </div>
    <div class="row mt-2">
        <div class="col-md-12">
            <oui-tile
                class="h-100"
                data-heading="{{ ::'pci_projects_project_serving_models_details_stats_label' | translate }}"
            >
                <div class="oui-box">
                    <div
                        class="d-md-flex align-items-md-center justify-content-md-between"
                    >
                        <div>
                            <label
                                class="oui-label d-inline-block mr-2 mt-1"
                                for="statisticsType"
                            >
                                <span
                                    data-translate="pci_projects_project_serving_models_details_stats_type"
                                ></span
                                >&nbsp;:
                            </label>
                            <oui-select
                                class="oui-select_inline"
                                data-name="statisticsType"
                                id="statisticsType"
                                data-model="$ctrl.selected.type"
                                data-on-change="$ctrl.getStatistics()"
                                data-match="name"
                                data-items="$ctrl.metricsName"
                            >
                            </oui-select>
                        </div>
                        <div>
                            <label
                                class="oui-label d-inline-block mr-2 mt-1"
                                for="statisticsPeriod"
                            >
                                <span
                                    data-translate="pci_projects_project_serving_models_details_stats_period"
                                ></span
                                >&nbsp;:
                            </label>
                            <oui-select
                                class="oui-select_inline"
                                data-name="statisticsPeriod"
                                id="statisticsPeriod"
                                data-model="$ctrl.selected.period"
                                data-on-change="$ctrl.getStatistics()"
                                data-match="name"
                                data-items="$ctrl.period"
                            >
                            </oui-select>
                        </div>
                    </div>
                </div>
                <pci-project-serving-namespace-models-details-metrics
                    class="chart__container"
                    data-data="$ctrl.metrics.data"
                    data-labels="$ctrl.metrics.labels"
                    data-series="$ctrl.metrics.series"
                    data-colors="$ctrl.metrics.colors"
                    data-unit="$ctrl.metrics.unit"
                ></pci-project-serving-namespace-models-details-metrics>
            </oui-tile>
        </div>
    </div>
</div>
