<div class="pci-projects-project-serving-add">
    <h1 data-translate="pci_projects_project_serving_add_title"></h1>

    <cui-message-container
        data-messages="$ctrl.messages"
    ></cui-message-container>

    <oui-stepper data-on-finish="$ctrl.onStepperFinish()">
        <oui-step-form
            data-header="{{ :: 'pci_projects_project_serving_add_region_title' | translate }}"
            data-editable="!$ctrl.loading"
            data-on-submit="$ctrl.filterContainers()"
            data-loading="$ctrl.loading || $ctrl.containerLoading"
        >
            <pci-project-regions-list
                data-regions="$ctrl.regions"
                data-selected-region="$ctrl.model.region"
            >
            </pci-project-regions-list>
        </oui-step-form>

        <oui-step-form
            data-header="{{ :: 'pci_projects_project_serving_add_description_title' | translate }}"
            data-editable="!$ctrl.loading"
            data-loading="$ctrl.loading"
        >
            <oui-field
                data-size="xl"
                data-help-text="{{ :: 'pci_projects_project_serving_add_description_help' | translate }}"
            >
                <input
                    class="oui-input"
                    type="text"
                    id="description"
                    name="description"
                    data-ng-model="$ctrl.model.description"
                    data-required
                    maxlength="30"
                    data-ng-pattern="/^[\w-:]+$/"
                />
            </oui-field>
        </oui-step-form>

        <oui-step-form
            data-header="{{ :: 'pci_projects_project_serving_add_container_title' | translate }}"
            data-editable="!$ctrl.loading"
            data-loading="$ctrl.loading"
        >
            <oui-radio-toggle-group data-model="$ctrl.attachType">
                <oui-radio
                    data-disabled="$ctrl.containersFilter.length === 0"
                    data-value="$ctrl.ATTACH"
                >
                    {{ :: 'pci_projects_project_serving_add_container_attach' |
                    translate }} - {{ $ctrl.namedRegion[$ctrl.model.region.name]
                    }}
                </oui-radio>
                <oui-radio data-value="$ctrl.NEW">
                    {{ :: 'pci_projects_project_serving_add_container_new' |
                    translate }}
                </oui-radio>
            </oui-radio-toggle-group>
            <oui-field
                data-ng-if="$ctrl.attachType === $ctrl.ATTACH"
                data-size="xl"
                data-help-text="{{ :: 'pci_projects_project_serving_attach_container_help' | translate }}"
            >
                <oui-select
                    id="container-select"
                    name="container-select"
                    data-model="$ctrl.model.containerSelect"
                    data-items="$ctrl.containersFilter"
                    data-match="description"
                    data-searchable
                    data-required
                >
                </oui-select>
            </oui-field>
            <oui-field
                data-ng-if="$ctrl.attachType === $ctrl.NEW"
                data-size="xl"
                data-help-text="{{ :: 'pci_projects_project_serving_add_container_help' | translate }}"
            >
                <input
                    class="oui-input"
                    type="text"
                    id="container"
                    name="container"
                    data-ng-model="$ctrl.model.containerInput"
                    data-required
                />
            </oui-field>
        </oui-step-form>
    </oui-stepper>
</div>
