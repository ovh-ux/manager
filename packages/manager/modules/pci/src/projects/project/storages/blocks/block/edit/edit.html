<div class="p-5">
    <div data-ng-if="$ctrl.loading" class="text-center">
        <oui-spinner></oui-spinner>
    </div>
    <section data-ng-if="!$ctrl.loading">
        <oui-back-button
            data-on-click="$ctrl.goBack()">{{:: 'pci_projects_project_storages_blocks_block_edit_back_label' | translate }}</oui-back-button>

        <cui-message-container data-messages="$ctrl.messages"></cui-message-container>

        <h1 data-translate="pci_projects_project_storages_blocks_block_edit_title"></h1>

        <form novalidate name="form" data-ng-submit="form.$valid && $ctrl.edit()">

            <div class="oui-field oui-field_error">
                <label for="storage-region" class="oui-field__label oui-label"
                    data-translate="pci_projects_project_storages_blocks_block_edit_region_label"></label>
                <div class="oui-field__control" data-ng-bind="$ctrl.editStorage.region"></div>
            </div>

            <div class="oui-field oui-field_error">
                <label for="storage-type" class="oui-field__label oui-label"
                    data-translate="pci_projects_project_storages_blocks_block_edit_type_label"></label>
                <div class="oui-field__control"
                    data-ng-bind="'pci_projects_project_storages_blocks_block_edit_type_' + $ctrl.editStorage.type | translate"></div>
            </div>

            <oui-field
                data-label="{{:: 'pci_projects_project_storages_blocks_block_edit_name_label' | translate }}"
                data-size="xl">
                <input class="oui-input" type="text" name="name"
                    data-ng-model="$ctrl.editStorage.name"
                    ng-maxlength="255"
                    required>
            </oui-field>

            <oui-field
                data-label="{{:: 'pci_projects_project_storages_blocks_block_edit_size_label' | translate }}"
                data-help-text="{{:: 'pci_projects_project_storages_blocks_block_edit_size_help' | translate }}"
                data-size="xl">
                <div class="d-inline-block">
                    <oui-numeric
                        data-name="size"
                        data-min="$ctrl.size.min"
                        data-max="$ctrl.size.max"
                        data-model="$ctrl.editStorage.size"
                        data-on-change="$ctrl.estimatePrice(modelValue)"
                        ></oui-numeric>
                </div>
                <span class="pl-2" data-translate="pci_projects_project_storages_blocks_edit_size_unit"></span>

                <p data-translate="pci_projects_project_storages_blocks_block_edit_price_text"
                    data-translate-values="{ price: $ctrl.estimatedPrice.monthly.text }"></p>
            </oui-field>

            <p data-translate="pci_projects_project_storages_blocks_block_edit_price_text"
                data-translate-values="{ price: $ctrl.estimatedPrice.monthly.text }"></p>
            <oui-form-actions
                data-submit-text="{{:: 'pci_projects_project_storages_blocks_block_edit_submit_label' | translate }}"
                data-cancel-text="{{:: 'pci_projects_project_storages_blocks_block_edit_cancel_label' | translate }}"
                data-on-cancel="$ctrl.goBack()"></oui-form-actions>
        </form>
    </section>
</div>
