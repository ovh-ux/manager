<div class="manager-hub-support" data-ng-if="!$ctrl.isLoading">
    <div data-ng-if="$ctrl.tickets.length > 0">
        <h3 data-translate="hub_support_title"></h3>
        <span
            class="manager-hub-support_count"
            data-ng-if="$ctrl.tickets.length > 0"
            data-ng-bind="$ctrl.tickets.length"
        >
        </span>
        <a
            class="manager-hub-support_more"
            data-ng-href="{{:: $ctrl.RedirectionService.getURL('support') }}"
            data-track-on="click"
            data-track-name="{{:: $ctrl.trackingPrefix + '::assistance::show-all' }}"
            data-track-type="navigation"
        >
            <span data-translate="hub_support_see_more"></span>
            <span
                class="oui-icon oui-icon-arrow-right_extra-thin align-middle"
                aria-hidden="true"
            >
            </span>
        </a>
        <table class="w-100">
            <tbody>
                <tr
                    data-ng-repeat="ticket in $ctrl.tickets track by ticket.ticketId"
                >
                    <td
                        class="manager-hub-support_service font-weight-bold"
                        data-ng-bind=":: ticket.getDisplayName() || ('hub_support_account_management' | translate)"
                    ></td>
                    <td
                        class="manager-hub-support_service"
                        data-ng-bind=":: ticket.subject"
                    ></td>
                    <td>
                        <span
                            class="oui-status align-middle"
                            data-ng-class=":: 'oui-status_' + ticket.getStateCategory()"
                            data-ng-bind=":: ('hub_support_state_' + ticket.state) | translate"
                        >
                        </span>
                    </td>
                    <td class="text-right">
                        <a
                            data-translate="hub_support_read"
                            data-ng-href="{{:: $ctrl.RedirectionService.getURL('ticket', { ticketId: ticket.ticketId }) }}"
                            data-track-on="click"
                            data-track-name="{{:: $ctrl.trackingPrefix + '::assistance::go-to-ticket' }}"
                            data-track-type="navigation"
                        >
                        </a>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
    <div data-ng-if="!$ctrl.tickets.length">
        <div class="manager-hub-support_illustration" aria-hidden="true"></div>
        <h3 data-translate="hub_support_need_help"></h3>
        <p data-translate="hub_support_need_help_more"></p>
        <a data-ng-href="{{ $ctrl.guideURL }}">
            <span data-translate="hub_support_help"></span>
            <span
                class="oui-icon oui-icon-arrow-right_extra-thin align-middle"
                aria-hidden="true"
            >
            </span>
        </a>
    </div>
</div>
