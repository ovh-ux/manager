<div class="row">
    <div
        class="col-md-6 mb-2 mb-md-4"
        data-ng-repeat="product in $ctrl.products | limitTo: ($ctrl.expand ? $ctrl.products.length : $ctrl.DEFAULT_DISPLAYED_TILES) track by product.productType"
    >
        <ovh-manager-hub-tile
            heading="{{:: 'manager_hub_products_' + product.productType | translate }}"
            badge-text="{{ product.count }}"
            class="oui-list"
            data-on-click="$ctrl.onProductSelect({ productType: product.productType })"
        >
            <ul class="oui-list__items">
                <li
                    class="oui-list__item"
                    data-ng-repeat="service in product.data  | limitTo: $ctrl.DISPLAYED_PRODUCTS_NUMBER track by service.serviceId"
                >
                    <a
                        data-ng-href="{{:: service.url }}"
                        data-ng-bind="service.resource.displayName || service.resource.name"
                        data-track-on="click"
                        data-track-name="{{ $ctrl.trackingPrefix + '::product::' + product.productType + '::go-to-service' }}"
                    >
                    </a>
                </li>
            </ul>
        </ovh-manager-hub-tile>
    </div>
</div>
<button
    type="button"
    class="oui-button oui-button_full-width oui-button_link oui-button_icon-right mb-5"
    data-ng-if="$ctrl.products.length > $ctrl.DEFAULT_DISPLAYED_TILES"
    data-ng-click="$ctrl.toggleExpand()"
    data-track-on="click"
    data-track-name="{{:: $ctrl.trackingPrefix + '::product::expand' }}"
>
    <span
        data-translate="{{ $ctrl.expand ? 'manager_hub_products_see_less' : 'manager_hub_products_see_more' }}"
    ></span>
    <span
        class="oui-icon"
        aria-hidden="true"
        data-ng-class="{
            'oui-icon-chevron-up_extra-thin' : $ctrl.expand,
            'oui-icon-chevron-down_extra-thin': !$ctrl.expand
        }"
    ></span>
</button>
