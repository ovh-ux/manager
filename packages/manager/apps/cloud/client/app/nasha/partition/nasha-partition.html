<div class="top-space-m20 bottom-space-m20 nasha-partition">
    <div>
        <h3 class="oui-header_3">{{'nasha_partition' | translate}}
            <i class="oui-icon oui-icon-help_circle fs18 pointer"
               data-ng-if="PartitionCtrl.data.nasha"
               data-responsive-popover="'app/nasha/partition/nasha-partition-help.html'"
               data-popover-placement="right"
               data-popover-append-to-body="true"
               data-popover-trigger="outsideClick">
            </i>
        </h3>

        <button type="button"
            class="oui-button oui-button_secondary"
            data-ng-disabled="PartitionCtrl.loaders.table"
            data-ng-if="PartitionCtrl.data.nasha.canCreatePartition"
            data-ng-click="PartitionCtrl.openModal('app/nasha/partition/add/nasha-partition-add.html', 'NashaPartitionAddCtrl')"
            data-translate="nasha_partitions_action_add"></button>

        <oui-datagrid data-rows="PartitionCtrl.data.table.partitions">
            <oui-column data-property="partitionName"
                data-title="'nasha_partitions_name' | translate"
                data-sortable="asc"></oui-column>
            <oui-column data-property="protocol"
                data-title="'nasha_partitions_protocol' | translate"
                data-sortable>
                <span data-ng-if="$row.protocol"
                    data-translate="{{'nasha_partitions_protocol_' + $row.protocol}}"></span>
            </oui-column>
            <oui-column data-property="use"
                data-title="'nasha_partitions_size' | translate">
                <cuc-space-meter
                    class="cloud-space-meter"
                    data-ng-if="$row.use"
                    data-usage="$row.use">
                </cuc-space-meter>
            </oui-column>
            <oui-column>
                <oui-spinner data-size="s" data-ng-show="PartitionCtrl.hasTaskInProgress($row)"></oui-spinner>
            </oui-column>
            <oui-action-menu data-align="end" data-compact>
                <oui-action-menu-item data-text="{{ 'nasha_partitions_action_update' | translate }}"
                    data-on-click="PartitionCtrl.openModal('app/nasha/partition/update/nasha-partition-update.html', 'NashaPartitionUpdateCtrl', $row)">
                </oui-action-menu-item>
                <oui-action-menu-item data-text="{{ 'nasha_partitions_action_change_access' | translate }}"
                    data-on-click="PartitionCtrl.goToNashaPartitionAccess($row.partitionName)">
                </oui-action-menu-item>
                <oui-action-menu-item data-text="{{ 'nasha_partitions_action_display_snapshot' | translate }}"
                    data-on-click="PartitionCtrl.openModal('app/nasha/partition/snapshot/nasha-partition-snapshot.html', 'NashaPartitionSnapshotCtrl', $row)">
                </oui-action-menu-item>
                <oui-action-menu-item data-text="{{ 'nasha_partitions_action_display_custom_snapshot' | translate }}"
                    data-on-click="PartitionCtrl.openModal('app/nasha/partition/custom-snapshot/add/nasha-partition-custom-snapshot-add.html', 'NashaPartitionCustomSnapshotAddCtrl', $row)">
                </oui-action-menu-item>
                <oui-action-menu-item data-text="{{ 'nasha_partitions_action_z_file_system' | translate }}"
                    data-on-click="PartitionCtrl.openModal('app/nasha/partition/zfs-options/nasha-partition-zfs-options.html', 'NashaPartitionZFSOptionsCtrl', $row)">
                </oui-action-menu-item>
                <oui-action-menu-item data-ng-show="PartitionCtrl.data.nasha.canCreatePartition"
                    data-text="{{ 'delete' | translate }}"
                    data-on-click="PartitionCtrl.openModal('app/nasha/partition/delete/nasha-partition-delete.html', 'NashaPartitionDeleteCtrl', $row)">
                </oui-action-menu-item>
            </oui-action-menu>
        </oui-datagrid>

    </div>
</div>

